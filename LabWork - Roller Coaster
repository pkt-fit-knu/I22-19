<!DOCTYPE html>
<html>
	<head>
		<title>Roller coaster</title>
		<style>
			* {
				margin: 0px;
			}
			#imgobj {
				position: absolute;
				transform-origin:0% 0%;
				width: 23px;
				height: 23px;
			}
		</style>
		<script>
			
			function f()
			{
				var context = document.getElementById('canvas').getContext('2d');
				
				
				context.strokeStyle = 'red';
				var n = 1300;
				var xs = []; var ys = [];
				for (var i = 0;i<n;i++){
					xs[i] = i;
					ys[i] = Math.sin(xs[i]/50)*50+300;
				}
				context.moveTo(xs[0],ys[0]);
				for (var i = 1;i<n;i++)
					context.lineTo(xs[i],ys[i]);
				context.stroke();
				
				var imgobj = document.getElementById("imgobj");
				var index = 0;
				var v = 1;
				var a = 1;
				var timer = setInterval(function(){
					imgobj.style.top = (ys[index]-36)+'px';
					imgobj.style.left = (xs[index])+'px';
					if (ys[index+1]-ys[index]>0)	a = 0; 
						else a = -1;
					v += a;
					if (v<1) v = 1;
					index += v;
					if (index == n) 
						clearInterval(timer);
				},8);
			}
		</script>
	</head>
	<body onload="f()">
		<canvas id="canvas" width="1350" height="1000" style="background-color:yellow">
		</canvas>
		<img id="imgobj" src="1.png">
	</body>
</html>
